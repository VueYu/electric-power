{"remainingRequest":"E:\\VUE\\VueProject\\electric-power\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE\\VueProject\\electric-power\\src\\view\\front-collector.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VUE\\VueProject\\electric-power\\src\\view\\front-collector.vue","mtime":1601365103687},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\babel-loader\\lib\\index.js","mtime":1599874250055},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js","mtime":1599874242496}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AddFrontCollector from \"../components/frontCollector/add-front-collector.vue\";\nimport UpdataFrontCollector from \"../components/frontCollector/updata-front-collector.vue\";\nexport default {\n  components: {\n    AddFrontCollector: AddFrontCollector,\n    UpdataFrontCollector: UpdataFrontCollector\n  },\n  data: function data() {\n    return {\n      visible: false,\n      value: '选项1',\n      tableData: [{\n        value1: '盘龙供电所',\n        value2: '公司供电',\n        value3: '电网_10kV铁光线长马沟村1#公变',\n        value4: 'Ks201812022334',\n        value5: '201812022334',\n        value6: '无',\n        value7: '11111',\n        value8: '13980956261',\n        value9: '5V',\n        value10: '长马沟村',\n        value11: '在线'\n      }, {\n        value1: '盘龙供电所',\n        value2: '公司供电',\n        value3: '电网_10kV铁光线长马沟村1#公变',\n        value4: 'Ks201812022334',\n        value5: '201812022334',\n        value6: '无',\n        value7: '11111',\n        value8: '13980956261',\n        value9: '5V',\n        value10: '长马沟村',\n        value11: '离线'\n      }],\n      collectorData: {},\n      //存放需要修改的数据\n      seekData1: {},\n      //前端采集器的搜索条件\n      showAddFrontCollector: false,\n      //是否显示添加前端采集器\n      showUpdataFrontCollector: false,\n      //是否显示修改前端采集器\n      loading: false,\n      //是否显示加载动画\n      currentPage: 1,\n      //当前第几页\n      pageSize: 10,\n      //每一页多少条数据\n      total: 10 //一共多少条\n\n    };\n  },\n  mounted: function mounted() {// window.setInterval(() => {\n    // \tsetTimeout(this.getCollectorInfo(1,10), 0)\n    // }, 50000)\n  },\n  methods: {\n    //隐藏添加数据界面\n    hideAddFront: function hideAddFront(value) {\n      this.showAddFrontCollector = value;\n      this.getCollectorInfo(1, 10);\n    },\n    //隐藏修改数据界面\n    hideUpdataFront: function hideUpdataFront(value) {\n      this.showUpdataFrontCollector = value;\n      this.getCollectorInfo(1, 10);\n    },\n    //数据加载动画\n    handleLoading: function handleLoading(num) {\n      var _this = this;\n\n      this.loading = true;\n      setTimeout(function () {\n        _this.loading = false;\n      }, num);\n    },\n    handleClose: function handleClose() {\n      console.log('关闭');\n      this.displayStep = false;\n    },\n    //修改设备信息\n    handleUpdata: function handleUpdata(index, row) {\n      this.showUpdataFrontCollector = true; //根据index，从tableData中获取当前需要操作的数据获\n      //var updataData = that.tableData.list[index];\n      //this.collectorData=\n    },\n    //删除设备\n    handleDelete: function handleDelete(index, row) {\n      var _this2 = this;\n\n      //根据index，从tableData中获取当前需要操作的数据获\n      //var deleteData = that.tableData.list[index];\n      //在数据中拿到向后台接口发送请求的数据\n      var num = {};\n      console.log('执行删除');\n      this.visible = false;\n      this.$axios({\n        method: 'post',\n        url: this.COMMON.url + '',\n        data: num\n      }).then(function (response) {\n        console.log('请求成功'); //成功后调用getCollectorInfo函数，重新请求数据\n\n        _this2.getCollectorInfo(_this2.currentPage, _this2.pageSize);\n      }).catch(function (error) {\n        // 请求失败\n        console.log('请求失败');\n        console.log(error);\n      });\n    },\n    //遍历对象\n    traverseObject: function traverseObject(object) {\n      console.log('遍历');\n      var seekData = {};\n\n      for (var prop in object) {\n        //console.log(object[prop]);输出对象属性的值\n        //console.log(prop);输出对象属性的名称\n        if (object[prop] != '') {\n          this.$set(seekData, prop, object[prop]);\n        }\n\n        ;\n      }\n\n      console.log(seekData);\n      return seekData;\n    },\n    //筛选\n    handleSeek: function handleSeek() {\n      var seekData = {}; //根据查看的数据进行搜索\n      //前端采集器\n      //利用循环判断搜索条件是否为空，如果都为空就提示选择筛选数据\n      //如果至少有一个不为空，那么就把不为空的数据赋给**seekData**作为筛选条件向后台发送请求\n      //JSON.stringify(seekData)=='{}'   判断对象是否为空\n      //Object.keys(xxx).length==0\n\n      seekData = this.traverseObject(this.seekData1);\n\n      if (JSON.stringify(seekData) != '{}') {\n        this.$axios({\n          method: 'post',\n          url: this.COMMON.url + '',\n          data: seekData\n        }).then(function (response) {//从response中拿到筛选后的数据再赋给tableData\n          //this.tableData=\n        }).catch(function (error) {\n          // 请求失败\n          console.log('请求失败');\n          console.log(error);\n        });\n      } else {\n        console.log('清输入条件进行查询');\n      }\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n      this.tableData.pageNum = 1;\n      this.tableData.pageSize = val;\n      this.getCollectorInfo(1, val);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.tableData.pageNum = val;\n      var num = this.tableData.pageSize;\n      console.log(num);\n      this.getCollectorInfo(val, num);\n    },\n    //根据页数获取数据\n    //根据**第几页(page)**和**每页多少条(num)**进行请求，获取设备信息\n    getCollectorInfo: function getCollectorInfo(page, num) {\n      if (this.value == '选项1') {\n        var postData = {}; //向接口发送的数据\n\n        this.$axios({\n          method: 'post',\n          url: this.COMMON.url + '',\n          data: postData\n        }).then(function (response) {\n          // 请求成功\n          console.log(response.data.data); //根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\n          //this.currentPage = page;\n          //从response中获取到需要展示在表格中的数据，在赋给tableData\n          //再拿到pageSize、total的值\n          //this.pageSize=\n          //this.total=\n          //this.tableData=\n          //记住清空data()中tableData的值，不清空也可以\n        }).catch(function (error) {\n          // 请求失败\n          console.log('请求失败');\n          console.log(error);\n        });\n      } else if (this.value == '选项2') {\n        var _postData = {}; //向接口发送的数据\n\n        this.$axios({\n          method: 'post',\n          url: this.COMMON.url + '',\n          data: _postData\n        }).then(function (response) {\n          // 请求成功\n          console.log(response.data.data); //根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\n          //this.currentPage = page;\n          //从response中获取到需要展示在表格中的数据，在赋给tableData\n          //再拿到pageSize、total的值\n          //this.pageSize=\n          //this.total=\n          //this.tableData=\n          //记住清空data()中tableData的值，不清空也可以\n        }).catch(function (error) {\n          // 请求失败\n          console.log('请求失败');\n          console.log(error);\n        });\n      } else if (this.value == '选项3') {\n        var _postData2 = {}; //向接口发送的数据\n\n        this.$axios({\n          method: 'post',\n          url: this.COMMON.url + '',\n          data: _postData2\n        }).then(function (response) {\n          // 请求成功\n          console.log(response.data.data); //根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\n          //this.currentPage = page;\n          //从response中获取到需要展示在表格中的数据，在赋给tableData\n          //再拿到pageSize、total的值\n          //this.pageSize=\n          //this.total=\n          //this.tableData=\n          //记住清空data()中tableData的值，不清空也可以\n        }).catch(function (error) {\n          // 请求失败\n          console.log('请求失败');\n          console.log(error);\n        });\n      }\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["front-collector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA,OAAA,iBAAA;AACA,OAAA,oBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA,iBADA;AAEA,IAAA,oBAAA,EAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,CAAA;AACA,QAAA,MAAA,EAAA,OADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA,oBAHA;AAIA,QAAA,MAAA,EAAA,gBAJA;AAKA,QAAA,MAAA,EAAA,cALA;AAMA,QAAA,MAAA,EAAA,GANA;AAOA,QAAA,MAAA,EAAA,OAPA;AAQA,QAAA,MAAA,EAAA,aARA;AASA,QAAA,MAAA,EAAA,IATA;AAUA,QAAA,OAAA,EAAA,MAVA;AAWA,QAAA,OAAA,EAAA;AAXA,OAAA,EAYA;AACA,QAAA,MAAA,EAAA,OADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA,oBAHA;AAIA,QAAA,MAAA,EAAA,gBAJA;AAKA,QAAA,MAAA,EAAA,cALA;AAMA,QAAA,MAAA,EAAA,GANA;AAOA,QAAA,MAAA,EAAA,OAPA;AAQA,QAAA,MAAA,EAAA,aARA;AASA,QAAA,MAAA,EAAA,IATA;AAUA,QAAA,OAAA,EAAA,MAVA;AAWA,QAAA,OAAA,EAAA;AAXA,OAZA,CAHA;AA4BA,MAAA,aAAA,EAAA,EA5BA;AA4BA;AACA,MAAA,SAAA,EAAA,EA7BA;AA6BA;AACA,MAAA,qBAAA,EAAA,KA9BA;AA8BA;AACA,MAAA,wBAAA,EAAA,KA/BA;AA+BA;AACA,MAAA,OAAA,EAAA,KAhCA;AAgCA;AACA,MAAA,WAAA,EAAA,CAjCA;AAiCA;AACA,MAAA,QAAA,EAAA,EAlCA;AAkCA;AACA,MAAA,KAAA,EAAA,EAnCA,CAmCA;;AAnCA,KAAA;AAqCA,GA3CA;AA4CA,EAAA,OAAA,EAAA,mBAAA,CACA;AACA;AACA;AAEA,GAjDA;AAmDA,EAAA,OAAA,EAAA;AAEA;AACA,IAAA,YAHA,wBAGA,KAHA,EAGA;AACA,WAAA,qBAAA,GAAA,KAAA;AACA,WAAA,gBAAA,CAAA,CAAA,EAAA,EAAA;AACA,KANA;AAOA;AACA,IAAA,eARA,2BAQA,KARA,EAQA;AACA,WAAA,wBAAA,GAAA,KAAA;AACA,WAAA,gBAAA,CAAA,CAAA,EAAA,EAAA;AACA,KAXA;AAYA;AACA,IAAA,aAbA,yBAaA,GAbA,EAaA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAtBA;AAuBA;AACA,IAAA,YAxBA,wBAwBA,KAxBA,EAwBA,GAxBA,EAwBA;AACA,WAAA,wBAAA,GAAA,IAAA,CADA,CAEA;AACA;AACA;AACA,KA7BA;AA8BA;AACA,IAAA,YA/BA,wBA+BA,KA/BA,EA+BA,GA/BA,EA+BA;AAAA;;AACA;AACA;AACA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GAAA,GAAA,EAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EADA,CAEA;;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,WAAA,EAAA,MAAA,CAAA,QAAA;AACA,OARA,EAQA,KARA,CAQA,UAAA,KAAA,EAAA;AAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAXA;AAYA,KAlDA;AAmDA;AACA,IAAA,cApDA,0BAoDA,MApDA,EAoDA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,QAAA,GAAA,EAAA;;AACA,WAAA,IAAA,IAAA,IAAA,MAAA,EAAA;AACA;AACA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA;AACA;;AAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,aAAA,QAAA;AACA,KAhEA;AAiEA;AACA,IAAA,UAlEA,wBAkEA;AACA,UAAA,QAAA,GAAA,EAAA,CADA,CAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAA,QAAA,GAAA,KAAA,cAAA,CAAA,KAAA,SAAA,CAAA;;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,QAAA,KAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GAAA,GAAA,EAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA,CACA;AACA;AACA,SAPA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAVA;AAWA,OAZA,MAYA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA;AACA,KA1FA;AA4FA,IAAA,gBA5FA,4BA4FA,GA5FA,EA4FA;AACA,MAAA,OAAA,CAAA,GAAA,wBAAA,GAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,GAAA;AACA,WAAA,gBAAA,CAAA,CAAA,EAAA,GAAA;AACA,KAjGA;AAkGA,IAAA,mBAlGA,+BAkGA,GAlGA,EAkGA;AACA,MAAA,OAAA,CAAA,GAAA,+BAAA,GAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,GAAA;AACA,UAAA,GAAA,GAAA,KAAA,SAAA,CAAA,QAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAAA,gBAAA,CAAA,GAAA,EAAA,GAAA;AACA,KAxGA;AA0GA;AACA;AACA,IAAA,gBA5GA,4BA4GA,IA5GA,EA4GA,GA5GA,EA4GA;AACA,UAAA,KAAA,KAAA,IAAA,KAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA,CADA,CAGA;;AACA,aAAA,MAAA,CAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GAAA,GAAA,EAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAjBA;AAkBA,OAtBA,MAsBA,IAAA,KAAA,KAAA,IAAA,KAAA,EAAA;AACA,YAAA,SAAA,GAAA,EAAA,CADA,CAGA;;AACA,aAAA,MAAA,CAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GAAA,GAAA,EAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAjBA;AAkBA,OAtBA,MAsBA,IAAA,KAAA,KAAA,IAAA,KAAA,EAAA;AACA,YAAA,UAAA,GAAA,EAAA,CADA,CAGA;;AACA,aAAA,MAAA,CAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GAAA,GAAA,EAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAjBA;AAkBA;AAEA;AAjLA,GAnDA;AAsOA,EAAA,KAAA,EAAA;AAtOA,CAAA","sourcesContent":["<!--展示前端收集器-->\r\n<template>\r\n\t<el-container>\r\n\t\t<el-header style=\"height:90px;line-height:80px;\">\r\n\t\t\t<div style=\"float: left;height: 80px;line-height:70px;\">\r\n\t\t\t\t<el-form ref=\"seekData\" :model=\"seekData1\" v-if=\"this.value=='选项1'\">\r\n\t\t\t\t\t<div class=\"search_box\">\r\n\t\t\t\t\t\t<el-input type=\"text\" placeholder=\"1\" v-model=\"seekData1.val1\" calss=\"search_input\" clearable style=\"width:150px;margin-right: 10px;\"></el-input>\r\n\t\t\t\t\t\t<el-input type=\"text\" placeholder=\"1\" v-model=\"seekData1.val2\" calss=\"search_input\" clearable style=\"width:150px;margin-right: 10px;\"></el-input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"height: 80px;line-height: 80px;margin-right:10px;float:left\">\r\n\t\t\t\t<el-button type=\"success\" icon=\"el-icon-search\" @click=\"handleSeek()\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"float:left;height: 80px;line-height:80px;\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"showAddFrontCollector=true\">\r\n\t\t\t\t\t<font class=\"font1\">\r\n\t\t\t\t\t\t<i class=\"el-icon-circle-plus-outline\"></i>\r\n\t\t\t\t\t\t添加采集器\r\n\t\t\t\t\t</font>\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t</el-header>\r\n\t\t<el-main v-loading=\"loading\" style=\"padding-top:0px;margin:0px\">\r\n\t\t\t<el-table :data=\"tableData\" style=\"width: 100%;font-size: 14px;\" border>\r\n\t\t\t\t<!--设置列标-->\r\n\t\t\t\t<el-table-column type=\"index\" width=\"50\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\" label-width=\"120px\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"供电单位\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value1 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"供电线路\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value2 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"台区名称\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value3 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"终端资产编号\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value4 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"终端型号\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value5 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"通讯规约\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value6 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"终端通讯地址\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value7 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"SIM卡号\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value8 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"额定电压\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value9 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"采集点地址\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.value10 }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value1\" label=\"供电单位\" width=\"200\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value2\" label=\"供电线路\" width=\"200\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value3\" label=\"台区名称\" width=\"300\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value9\" label=\"额定电压\" width=\"80\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value10\" label=\"采集点地址\" width=\"100\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"value10\" label=\"状态\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t        <el-tag\r\n\t\t\t\t\t\t\t\teffect=\"dark\"\r\n\t\t\t\t\t\t\t\t:type=\"scope.row.value11 === '在线' ? 'success' : 'danger'\"\r\n\t\t\t\t\t\t\t\tdisable-transitions\r\n\t\t\t\t\t\t\t\tstyle=\"width: 70px;text-align: center;\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{scope.row.value11}}\r\n\t\t\t\t\t\t\t</el-tag>\r\n\t\t\t\t\t      </template>\r\n\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t<el-table-column label=\"操作\" show-overflow-tooltip>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<!-- <el-button type=\"success\" size=\"mini\" style=\"margin-left:5px;margin-right: 5px;\" @click=\"handleUpdata(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t<font class=\"font1\">安装</font>\r\n\t\t\t\t\t\t</el-button> -->\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" style=\"margin-left:5px;margin-right: 5px;\" @click=\"handleUpdata(scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t<font class=\"font1\">修改</font>\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<el-popover placement=\"top\" width=\"160\" :model=\"visible\" :ref=\"'popover-${scope.$index}'\">\r\n\t\t\t\t\t\t\t<p>删除后无法恢复，是否确认删除？</p>\r\n\t\t\t\t\t\t\t<div style=\"text-align: center; margin: 0\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.$index, scope.row)\">确定</el-button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<el-button slot=\"reference\" size=\"mini\" type=\"danger\">\r\n\t\t\t\t\t\t\t\t<font class=\"font1\">拆除</font>\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\r\n\t\t\t<!--分页-->\r\n\t\t\t<div style=\"width:420px;float: left;margin-top: 25px;\">\r\n\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\"\r\n\t\t\t\t :page-sizes=\"[6,10, 15, 20]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"\r\n\t\t\t\t style=\"\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!--添加前端采集器-->\r\n\t\t\t<el-dialog title=\"添加前端采集器\" :visible.sync=\"showAddFrontCollector\" width=\"70%\" :close-on-click-modal='false' center>\r\n\t\t\t\t<AddFrontCollector @toFrontCollector=\"hideAddFront\">\r\n\r\n\t\t\t\t</AddFrontCollector>\r\n\t\t\t</el-dialog>\r\n\t\t\t\r\n\t\t\t<el-dialog title=\"修改前端采集器数据\" :visible.sync=\"showUpdataFrontCollector\" width=\"70%\" :close-on-click-modal='false' center>\r\n\t\t\t\t<UpdataFrontCollector :collectorData=\"collectorData\" @toFrontCollector=\"hideUpdataFront\">\r\n\t\t\t\r\n\t\t\t\t</UpdataFrontCollector>\r\n\t\t\t</el-dialog>\r\n\t\t</el-main>\r\n\t</el-container>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport AddFrontCollector from '../components/frontCollector/add-front-collector.vue'\r\n\timport UpdataFrontCollector from '../components/frontCollector/updata-front-collector.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tAddFrontCollector,\r\n\t\t\tUpdataFrontCollector\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible:false,\r\n\t\t\t\tvalue: '选项1',\r\n\t\t\t\ttableData: [{\r\n\t\t\t\t\tvalue1: '盘龙供电所',\r\n\t\t\t\t\tvalue2: '公司供电',\r\n\t\t\t\t\tvalue3: '电网_10kV铁光线长马沟村1#公变',\r\n\t\t\t\t\tvalue4: 'Ks201812022334',\r\n\t\t\t\t\tvalue5: '201812022334',\r\n\t\t\t\t\tvalue6: '无',\r\n\t\t\t\t\tvalue7: '11111',\r\n\t\t\t\t\tvalue8: '13980956261',\r\n\t\t\t\t\tvalue9: '5V',\r\n\t\t\t\t\tvalue10: '长马沟村',\r\n\t\t\t\t\tvalue11:'在线'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue1: '盘龙供电所',\r\n\t\t\t\t\tvalue2: '公司供电',\r\n\t\t\t\t\tvalue3: '电网_10kV铁光线长马沟村1#公变',\r\n\t\t\t\t\tvalue4: 'Ks201812022334',\r\n\t\t\t\t\tvalue5: '201812022334',\r\n\t\t\t\t\tvalue6: '无',\r\n\t\t\t\t\tvalue7: '11111',\r\n\t\t\t\t\tvalue8: '13980956261',\r\n\t\t\t\t\tvalue9: '5V',\r\n\t\t\t\t\tvalue10: '长马沟村',\r\n\t\t\t\t\tvalue11:'离线'\r\n\t\t\t\t}],\r\n\t\t\t\tcollectorData:{},//存放需要修改的数据\r\n\t\t\t\tseekData1: {}, //前端采集器的搜索条件\r\n\t\t\t\tshowAddFrontCollector: false, //是否显示添加前端采集器\r\n\t\t\t\tshowUpdataFrontCollector:false,//是否显示修改前端采集器\r\n\t\t\t\tloading: false,//是否显示加载动画\r\n\t\t\t\tcurrentPage: 1, //当前第几页\r\n\t\t\t\tpageSize: 10, //每一页多少条数据\r\n\t\t\t\ttotal: 10, //一共多少条\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\t// window.setInterval(() => {\r\n\t\t\t// \tsetTimeout(this.getCollectorInfo(1,10), 0)\r\n\t\t\t// }, 50000)\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\t//隐藏添加数据界面\r\n\t\t\thideAddFront(value) {\r\n\t\t\t\tthis.showAddFrontCollector = value;\r\n\t\t\t\tthis.getCollectorInfo(1, 10);\r\n\t\t\t},\r\n\t\t\t//隐藏修改数据界面\r\n\t\t\thideUpdataFront(value){\r\n\t\t\t\tthis.showUpdataFrontCollector=value;\r\n\t\t\t\tthis.getCollectorInfo(1, 10);\r\n\t\t\t},\r\n\t\t\t//数据加载动画\r\n\t\t\thandleLoading(num) {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}, num);\r\n\t\t\t},\r\n\t\t\thandleClose() {\r\n\t\t\t\tconsole.log('关闭')\r\n\t\t\t\tthis.displayStep = false;\r\n\t\t\t},\r\n\t\t\t//修改设备信息\r\n\t\t\thandleUpdata(index,row){\r\n\t\t\t\tthis.showUpdataFrontCollector=true;\r\n\t\t\t\t//根据index，从tableData中获取当前需要操作的数据获\r\n\t\t\t\t//var updataData = that.tableData.list[index];\r\n\t\t\t\t//this.collectorData=\r\n\t\t\t},\r\n\t\t\t//删除设备\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\t//根据index，从tableData中获取当前需要操作的数据获\r\n\t\t\t\t//var deleteData = that.tableData.list[index];\r\n\t\t\t\t//在数据中拿到向后台接口发送请求的数据\r\n\t\t\t\tvar num={}\r\n\t\t\t\tconsole.log('执行删除');\r\n\t\t\t\tthis.visible=false;\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\tdata:num\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tconsole.log('请求成功');\r\n\t\t\t\t\t//成功后调用getCollectorInfo函数，重新请求数据\r\n\t\t\t\t\tthis.getCollectorInfo(this.currentPage, this.pageSize);\r\n\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//遍历对象\r\n\t\t\ttraverseObject(object){\r\n\t\t\t\tconsole.log('遍历');\r\n\t\t\t\tvar seekData={};\r\n\t\t\t\tfor(var prop in object){\r\n\t\t\t\t\t//console.log(object[prop]);输出对象属性的值\r\n\t\t\t\t\t//console.log(prop);输出对象属性的名称\r\n\t\t\t\t\tif(object[prop]!=''){\r\n\t\t\t\t\t\tthis.$set(seekData, prop, object[prop]);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(seekData);\r\n\t\t\t\treturn seekData;\r\n\t\t\t},\r\n\t\t\t//筛选\r\n\t\t\thandleSeek() {\r\n\t\t\t\tvar seekData = {};\r\n\t\t\t\t//根据查看的数据进行搜索\r\n\t\t\t\t\t//前端采集器\r\n\t\t\t\t\t//利用循环判断搜索条件是否为空，如果都为空就提示选择筛选数据\r\n\t\t\t\t\t//如果至少有一个不为空，那么就把不为空的数据赋给**seekData**作为筛选条件向后台发送请求\r\n\t\t\t\t\t//JSON.stringify(seekData)=='{}'   判断对象是否为空\r\n\t\t\t\t\t//Object.keys(xxx).length==0\r\n\t\t\t\tseekData=this.traverseObject(this.seekData1);\r\n\t\t\t\tif(JSON.stringify(seekData)!='{}'){\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\t\tdata: seekData\r\n\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\t//从response中拿到筛选后的数据再赋给tableData\r\n\t\t\t\t\t\t//this.tableData=\r\n\t\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('清输入条件进行查询');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tconsole.log(`每页 ${val} 条`);\r\n\t\t\t\tthis.tableData.pageNum = 1;\r\n\t\t\t\tthis.tableData.pageSize = val;\r\n\t\t\t\tthis.getCollectorInfo(1, val)\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tconsole.log(`当前页: ${val}`);\r\n\t\t\t\tthis.tableData.pageNum = val;\r\n\t\t\t\tvar num = this.tableData.pageSize;\r\n\t\t\t\tconsole.log(num);\r\n\t\t\t\tthis.getCollectorInfo(val, num)\r\n\t\t\t},\r\n\r\n\t\t\t//根据页数获取数据\r\n\t\t\t//根据**第几页(page)**和**每页多少条(num)**进行请求，获取设备信息\r\n\t\t\tgetCollectorInfo(page, num) {\r\n\t\t\t\tif(this.value=='选项1'){\r\n\t\t\t\t\tlet postData = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};//向接口发送的数据\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\t\tdata: postData\r\n\t\t\t\t\t}).then(response => { // 请求成功\r\n\t\t\t\t\t\tconsole.log(response.data.data);\r\n\t\t\t\t\t\t//根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\r\n\t\t\t\t\t\t//this.currentPage = page;\r\n\t\t\t\t\t\t//从response中获取到需要展示在表格中的数据，在赋给tableData\r\n\t\t\t\t\t\t//再拿到pageSize、total的值\r\n\t\t\t\t\t\t//this.pageSize=\r\n\t\t\t\t\t\t//this.total=\r\n\t\t\t\t\t\t//this.tableData=\r\n\t\t\t\t\t\t//记住清空data()中tableData的值，不清空也可以\r\n\t\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(this.value=='选项2'){\r\n\t\t\t\t\tlet postData = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};//向接口发送的数据\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\t\tdata: postData\r\n\t\t\t\t\t}).then(response => { // 请求成功\r\n\t\t\t\t\t\tconsole.log(response.data.data);\r\n\t\t\t\t\t\t//根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\r\n\t\t\t\t\t\t//this.currentPage = page;\r\n\t\t\t\t\t\t//从response中获取到需要展示在表格中的数据，在赋给tableData\r\n\t\t\t\t\t\t//再拿到pageSize、total的值\r\n\t\t\t\t\t\t//this.pageSize=\r\n\t\t\t\t\t\t//this.total=\r\n\t\t\t\t\t\t//this.tableData=\r\n\t\t\t\t\t\t//记住清空data()中tableData的值，不清空也可以\r\n\t\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(this.value=='选项3'){\r\n\t\t\t\t\tlet postData = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};//向接口发送的数据\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\t\tdata: postData\r\n\t\t\t\t\t}).then(response => { // 请求成功\r\n\t\t\t\t\t\tconsole.log(response.data.data);\r\n\t\t\t\t\t\t//根据我们请求时向后台发送的数据的第几页，为currentPage进行赋值\r\n\t\t\t\t\t\t//this.currentPage = page;\r\n\t\t\t\t\t\t//从response中获取到需要展示在表格中的数据，在赋给tableData\r\n\t\t\t\t\t\t//再拿到pageSize、total的值\r\n\t\t\t\t\t\t//this.pageSize=\r\n\t\t\t\t\t\t//this.total=\r\n\t\t\t\t\t\t//this.tableData=\r\n\t\t\t\t\t\t//记住清空data()中tableData的值，不清空也可以\r\n\t\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.item .el-form-item__label {\r\n\t\tcolor: #909399;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.font1 {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.demo-table-expand {\r\n\t\tfont-size: 0;\r\n\t}\r\n\r\n\t.demo-table-expand label {\r\n\t\twidth: 90px;\r\n\t\tcolor: #99a9bf;\r\n\t}\r\n\r\n\t.demo-table-expand .el-form-item {\r\n\t\tmargin-right: 0;\r\n\t\tmargin-bottom: 0;\r\n\t\twidth: 50%;\r\n\t}\r\n\r\n\t.search_box {\r\n\t\tfloat: left;\r\n\t\twidth: 100%;\r\n\t\tmargin-right: 3%;\r\n\t\t/* border: 1px solid #000000; */\r\n\t\tpadding-top: 5px;\r\n\t\tpadding-bottom: 5px;\r\n\t}\r\n\r\n\t.search_input {\r\n\t\tfloat: left;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/view"}]}